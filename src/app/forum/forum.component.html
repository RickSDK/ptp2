<app-page-shell [title]="title">

    <app-progress-bar *ngIf="loadingFlg"></app-progress-bar>
    <div *ngIf="!loggedInFlg">
        <p>&nbsp;</p>
        <button [routerLink]="['/options']" type="button" class="btn-default roundButton segmentButton"
            [ngStyle]="ngStyleSegment(buttonIdx,1)">
            Options Page
        </button>
    </div>
    <div *ngIf="loggedInFlg">
        <div style="text-align: center; padding: 10px; background-color: #ccc;">
            <div class="btn-group" style="width: 100%; max-width: 400px;">
                <button *ngFor="let name of forumTypes; let i = index" (click)="changeType(i)" type="button"
                    class="btn-default roundButton segmentButton" [ngStyle]="ngStyleSegment(buttonIdx,i)">
                    {{name}}
                </button>
            </div>
        </div>

        <div *ngIf="drilldownFlg">
            <table class="drTable">
                <tr *ngFor="let item of forumPostItems; let i = index" (click)="loadPost(item)"
                    (mouseover)="item.hover=true" (mouseout)="item.hover=false"
                    [style.background-color]="item.hover?lightColor:(i%2==0)?'#ddd':'white'" style="cursor: pointer;">

                    <td align="left" style="padding: 10px;">
                        <div style="font-size: 18px; font-weight: 700;">{{item.title}}</div>
                        <div style="font-size: 14px; color: gray;">{{item.message}}</div>
                    </td>
                    <td align="right" style="padding: 10px;">
                        <div>{{item.dateText}} </div>
                        <div> {{item.name}} </div>
                    </td>
                </tr>
            </table>
            <app-form-input (messageEvent)="changesMade($event)" [inputFieldObj]="messageObj"></app-form-input>
            <app-button [disabled]="!messageObj.value" (click)="postReply()" [name]="'Reply'" [icon]="'arrow-right'"></app-button>
        </div>
        <div *ngIf="!drilldownFlg">
            <div>Info</div>
            <table class="drTable">
                <tr *ngFor="let item of forumItemsInfo; let i = index" (click)="loadPost(item)"
                    (mouseover)="item.hover=true" (mouseout)="item.hover=false"
                    [style.background-color]="item.hover?lightColor:(i%2==0)?'#ddd':'white'" style="cursor: pointer;">
                    <td width="50">
                        <img src="assets/graphics/{{item.img}}" width="50">
                    </td>
                    <td align="left">
                        <div style="font-size: 18px; font-weight: 700;">{{item.name}}</div>
                        <div style="font-size: 12px; color: gray;">{{item.preview}}</div>
                    </td>
                    <td align="right">
                        <div>{{item.topRight}} &nbsp;&nbsp;</div>
                        <div> {{item.botRight}} &nbsp;&nbsp;</div>
                    </td>
                </tr>
            </table>

            <div>General</div>
            <table class="drTable">
                <tr *ngFor="let item of forumItemsGen; let i = index" (click)="loadPost(item)"
                    (mouseover)="item.hover=true" (mouseout)="item.hover=false"
                    [style.background-color]="item.hover?lightColor:(i%2==0)?'#ddd':'white'" style="cursor: pointer;">
                    <td width="50">
                        <img src="assets/graphics/{{item.img}}" width="50">
                    </td>
                    <td align="left">
                        <div style="font-size: 18px; font-weight: 700;">{{item.name}}</div>
                        <div style="font-size: 12px; color: gray;">{{item.preview}}</div>
                    </td>
                    <td align="right">
                        <div>{{item.topRight}} &nbsp;&nbsp;</div>
                        <div> {{item.botRight}} &nbsp;&nbsp;</div>
                    </td>
                </tr>
            </table>

            <div>Strategy</div>
            <table class="drTable">
                <tr *ngFor="let item of forumItemsStrat; let i = index" (click)="loadPost(item)"
                    (mouseover)="item.hover=true" (mouseout)="item.hover=false"
                    [style.background-color]="item.hover?lightColor:(i%2==0)?'#ddd':'white'" style="cursor: pointer;">
                    <td width="50">
                        <img src="assets/graphics/{{item.img}}" width="50">
                    </td>
                    <td align="left">
                        <div style="font-size: 18px; font-weight: 700;">{{item.name}}</div>
                        <div style="font-size: 12px; color: gray;">{{item.preview}}</div>
                    </td>
                    <td align="right">
                        <div>{{item.topRight}} &nbsp;&nbsp;</div>
                        <div> {{item.botRight}} &nbsp;&nbsp;</div>
                    </td>
                </tr>
            </table>

            <div>Bad Beats</div>
            <table class="drTable">
                <tr *ngFor="let item of forumItems; let i = index" (click)="loadPost(item)"
                    (mouseover)="item.hover=true" (mouseout)="item.hover=false"
                    [style.background-color]="item.hover?lightColor:(i%2==0)?'#ddd':'white'" style="cursor: pointer;">
                    <td width="50">
                        <img src="assets/graphics/{{item.img}}" width="50">
                    </td>
                    <td align="left">
                        <div style="font-size: 18px; font-weight: 700;">{{item.name}}</div>
                        <div style="font-size: 12px; color: gray;">{{item.preview}}</div>
                    </td>
                    <td align="right">
                        <div>{{item.topRight}} &nbsp;&nbsp;</div>
                        <div> {{item.botRight}} &nbsp;&nbsp;</div>
                    </td>
                </tr>
            </table>
        </div>
    </div>
</app-page-shell>

<app-info-popup #infoModal></app-info-popup>
<app-spinner #spinnerPopup></app-spinner>